(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["chunk-c154b774"],{"1f4f":function(t,e,i){"use strict";i("a9e3");var s=i("5530"),n=(i("8b37"),i("80d2")),a=i("7560"),o=i("58df");e["a"]=Object(o["a"])(a["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(s["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(n["i"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},4231:function(t,e,i){"use strict";i("82aa")},"82aa":function(t,e,i){},"8b37":function(t,e,i){},dd836:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panels",{attrs:{hover:"",flat:"",tile:""},model:{value:t.lazyExpansionValue,callback:function(e){t.lazyExpansionValue=e},expression:"lazyExpansionValue"}},[i("v-expansion-panel",[i("v-expansion-panel-header",[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("div",[i("v-icon",[t._v(t._s(t.mdiCalendar))]),t._v(" "+t._s(t.$t("countDown.fishWindowBtn"))+" ")],1)])]),i("v-expansion-panel-content",[0===t.fishWindowsToShow.length?i("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"352px"}},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.mdiTableSearch))]),i("span",[t._v(t._s(t.$t("common.ui.loading")))])],1)]):i("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("list.item.fishWindowTable.startTime"))+" ")]),i("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("list.item.fishWindowTable.interval"))+" ")]),i("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("list.item.fishWindowTable.nextInterval"))+" ")])])]),i("tbody",t._l(t.fishWindowsToShow,(function(e,s){return i("tr",{key:s},[i("td",{staticClass:"text-center"},[t._v(t._s(e.start))]),i("td",{staticClass:"text-center"},[t._v(t._s(e.interval))]),i("td",{staticClass:"text-center"},[t._v(t._s(e.nextInterval))])])})),0)]},proxy:!0}])}),i("v-btn",{attrs:{block:"",loading:t.loadingShowMore,color:"primary"},on:{click:t.showMore}},[t._v(" "+t._s(t.$t("loadingMore"))+" ")])],1)],1)],1)},n=[],a=(i("4de4"),i("d81d"),i("fb6a"),i("5530")),o=i("2f62"),h=i("94ed"),r=i("1aeb"),l=i("bb45"),d={name:"DetailItemFishWindowTable",props:{fish:{type:Object,default:void 0},fishWeatherChangePart:{type:Object,default:function(){return{}}},expanded:{type:Boolean,default:!1}},data:function(t){return{mdiCalendar:h["r"],mdiTableSearch:h["Kb"],lazyExpansionValue:t.expanded?0:void 0,recordsCntToShow:l["a"].FISH_WINDOW_FORECAST_N,lazyFishWindows:[],fishWindowsToShow:[],loadingShowMore:!1}},created:function(){this.lazyExpansionValue=this.expanded?0:void 0},watch:{expanded:function(t){this.lazyExpansionValue=t?0:void 0},"fish.id":function(){this.lazyExpansionValue=this.expanded?0:void 0,this.recordsCntToShow=l["a"].FISH_WINDOW_FORECAST_N,this.lazyFishWindows=[],this.fishWindowsToShow=[]},now:function(t){if(this.recordsCntToShow===this.fishWindowsProvided.filter((function(e){return e.endTime>t})).length)this.fishWindowsToShow=this.fishWindowsProvided;else{var e=this.lazyFishWindows.filter((function(e){return e.endTime>t}));e.length>this.recordsCntToShow?this.fishWindowsToShow=e.slice(0,this.recordsCntToShow):e.length===this.recordsCntToShow?this.fishWindowsToShow=e:(this.fishWindowsToShow=this.lazyFishWindows=this.transformFishWindows(r["a"].getFishWindow(this.allFish[this.fish.id],t,this.allFish,this.fishingSpots,this.fishEyesUsed,this.recordsCntToShow),this.recordsCntToShow,t),this.loadingShowMore=!1)}}},computed:Object(a["a"])(Object(a["a"])({fishWindowsProvided:function(){return this.transformFishWindows(this.fishWeatherChangePart.fishWindows,l["a"].FISH_WINDOW_FORECAST_N,this.now)}},Object(o["e"])({allFish:"fish",fishingSpots:"fishingSpots",now:"now"})),Object(o["c"])(["fishEyesUsed"])),methods:{transformFishWindows:function(t,e,i){var s=this,n=t.filter((function(t){return t[1]>i}));return e>n.length&&console.warn("fish window cnt less than n",n.length,e),n=n.slice(0,Math.min(e,n.length)),n.map((function(t,e){var i=new Date(t[0]),a=new Date(t[1]);return{startTime:t[0],endTime:t[1],start:r["a"].formatDateTime(t[0]),end:r["a"].formatDateTime(t[1]),interval:s.printCountDownTime(a.getTime()-i.getTime()),nextInterval:e<n.length-1?s.printCountDownTime(n[e+1][0]-a.getTime()):""}}))},showMore:function(){this.loadingShowMore||(this.recordsCntToShow+=10,this.loadingShowMore=!0)},printCountDownTime:r["a"].printCountDownTime}},c=d,f=(i("4231"),i("2877")),u=i("6544"),p=i.n(u),w=i("8336"),v=i("cd55"),m=i("49e2"),b=i("c865"),x=i("0393"),T=i("132d"),S=i("1f4f"),g=Object(f["a"])(c,s,n,!1,null,"ac24d82a",null);e["default"]=g.exports;p()(g,{VBtn:w["a"],VExpansionPanel:v["a"],VExpansionPanelContent:m["a"],VExpansionPanelHeader:b["a"],VExpansionPanels:x["a"],VIcon:T["a"],VSimpleTable:S["a"]})}}]);